<?php
 abstract class Action implements iAction {protected $params = [];protected $name;protected $callback;abstract public function execute();abstract public function rollback();public function __construct($vb068931cc450442b63f5b3d276ea4297, array $v21ffce5b8a6cc8cc6a41448dd69623c9 = []) {$this->name = (string) $vb068931cc450442b63f5b3d276ea4297;$this->params = $v21ffce5b8a6cc8cc6a41448dd69623c9;}public function getName() {return $this->name;}public function getTitle() {return getLabel('label-' . trimNameSpace($this->getName()));}public function setCallback(iAtomicOperationCallback $v924a8ceeac17f54d3be3f8cdf1c04eb2) {$this->callback = $v924a8ceeac17f54d3be3f8cdf1c04eb2;}protected function getParam($vb068931cc450442b63f5b3d276ea4297) {return isset($this->params[$vb068931cc450442b63f5b3d276ea4297]) ? $this->params[$vb068931cc450442b63f5b3d276ea4297] : null;}protected function mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()    ->getConnection();try {$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);}catch (databaseException $ve1671797c52e15f763380b45e841ec32) {$v4717d53ebfdfea8477f780ec66151dcb->rollbackTransaction();throw $ve1671797c52e15f763380b45e841ec32;}return $result;}protected function createDirectory($v47826cacc65c665212b821e6ff80b9b0) {umiDirectory::requireFolder($v47826cacc65c665212b821e6ff80b9b0, CURRENT_WORKING_DIR);$v5f8f22b8cdbaeee8cf857673a9b6ba20 = new umiDirectory($v47826cacc65c665212b821e6ff80b9b0);if ($v5f8f22b8cdbaeee8cf857673a9b6ba20->getIsBroken()) {throw new Exception("Can't create directory: " . $v5f8f22b8cdbaeee8cf857673a9b6ba20->getPath());}}protected function removeDirectory($vd6fe1d0be6347b8ef2427fa629c04485) {$v5f8f22b8cdbaeee8cf857673a9b6ba20 = new umiDirectory($vd6fe1d0be6347b8ef2427fa629c04485);if ($v5f8f22b8cdbaeee8cf857673a9b6ba20->getIsBroken()) {return;}$v5f8f22b8cdbaeee8cf857673a9b6ba20->deleteRecursively();}protected function getCallback() {if (!$this->callback instanceof iAtomicOperationCallback) {throw new Exception('You should set iAtomicOperationCallback before use it');}return $this->callback;}}