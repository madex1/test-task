<?php
 class umiRemoteFileGetter {const READ_PIECE_SIZE = 4096;public static function get(   $v7b4064db05ca12487032b3f21ae7b1dc,   $ve62b9ecbd883c26642197a7dc8246d3c = false,   $vbc7d420606e2e2ab63b4a2528a7bbadf = false,   $vb6a628dce68ec509d970a41cc780b9f9 = false,   $v799e60d414061bb497a3427d0b4fa774 = false,   $vea9f6aca279138c58f705c8d4cb4b8ce = false,   $v90272dda245ae1fb3cf197e91a8689dc = false  ) {$v27c44a5aa7b7fef792dfdff2401836a1 = null;if (!contains($v7b4064db05ca12487032b3f21ae7b1dc, '://')) {$v9a0364b9e99bb480dd25e1f0284c8555 = @file_get_contents($v7b4064db05ca12487032b3f21ae7b1dc);if ($v9a0364b9e99bb480dd25e1f0284c8555 === false) {throw new umiRemoteFileGetterException('Local file does not exist or can not be opened');}if ($ve62b9ecbd883c26642197a7dc8246d3c === false) {return $v9a0364b9e99bb480dd25e1f0284c8555;}@file_put_contents($ve62b9ecbd883c26642197a7dc8246d3c, $v9a0364b9e99bb480dd25e1f0284c8555);return true;}try {return self::curlGet($v7b4064db05ca12487032b3f21ae7b1dc, $ve62b9ecbd883c26642197a7dc8246d3c, $vbc7d420606e2e2ab63b4a2528a7bbadf, $vb6a628dce68ec509d970a41cc780b9f9, $v799e60d414061bb497a3427d0b4fa774, $vea9f6aca279138c58f705c8d4cb4b8ce, $v90272dda245ae1fb3cf197e91a8689dc);}catch (umiRemoteFileGetterException $ve1671797c52e15f763380b45e841ec32) {$v27c44a5aa7b7fef792dfdff2401836a1 = $ve1671797c52e15f763380b45e841ec32;}if ($v27c44a5aa7b7fef792dfdff2401836a1 != null) {throw $v27c44a5aa7b7fef792dfdff2401836a1;}return null;}private static function curlGet(   $v7b4064db05ca12487032b3f21ae7b1dc,   $ve62b9ecbd883c26642197a7dc8246d3c,   $vbc7d420606e2e2ab63b4a2528a7bbadf = false,   $vb6a628dce68ec509d970a41cc780b9f9 = false,   $v799e60d414061bb497a3427d0b4fa774 = false,   $vea9f6aca279138c58f705c8d4cb4b8ce = false,   $v90272dda245ae1fb3cf197e91a8689dc = false  ) {if (!function_exists('curl_init')) {throw new umiRemoteFileGetterException('CURL not supported');}$vd88fc6edf21ea464d35ff76288b84103 = curl_init($v7b4064db05ca12487032b3f21ae7b1dc);if (!$vd88fc6edf21ea464d35ff76288b84103) {throw new umiRemoteFileGetterException('CURL init failed');}$v0666f0acdeed38d4cd9084ade1739498 = null;if ($ve62b9ecbd883c26642197a7dc8246d3c === false) {curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_RETURNTRANSFER, true);}else {$v0666f0acdeed38d4cd9084ade1739498 = fopen($ve62b9ecbd883c26642197a7dc8246d3c, 'w');if (!$v0666f0acdeed38d4cd9084ade1739498) {throw new umiRemoteFileGetterException('Can not open target file');}curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_FILE, $v0666f0acdeed38d4cd9084ade1739498);}if ($v799e60d414061bb497a3427d0b4fa774) {curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_HEADER, 1);}if (!empty($vb6a628dce68ec509d970a41cc780b9f9) && is_array($vb6a628dce68ec509d970a41cc780b9f9)) {curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_POST, umiCount($vb6a628dce68ec509d970a41cc780b9f9));$v9a0364b9e99bb480dd25e1f0284c8555 = is_array($vb6a628dce68ec509d970a41cc780b9f9) ? http_build_query($vb6a628dce68ec509d970a41cc780b9f9, '', '&') : $vb6a628dce68ec509d970a41cc780b9f9;curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_POSTFIELDS, $v9a0364b9e99bb480dd25e1f0284c8555);}if (is_array($vbc7d420606e2e2ab63b4a2528a7bbadf)) {curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_HTTPHEADER, explode("\r\n", self::buildHeaderString($vbc7d420606e2e2ab63b4a2528a7bbadf)));}if ($vea9f6aca279138c58f705c8d4cb4b8ce && $vea9f6aca279138c58f705c8d4cb4b8ce != 'GET' && $vea9f6aca279138c58f705c8d4cb4b8ce != 'POST') {curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_CUSTOMREQUEST, $vea9f6aca279138c58f705c8d4cb4b8ce);}if ($v90272dda245ae1fb3cf197e91a8689dc) {curl_setopt($vd88fc6edf21ea464d35ff76288b84103, CURLOPT_TIMEOUT, (int) $v90272dda245ae1fb3cf197e91a8689dc);}$result = curl_exec($vd88fc6edf21ea464d35ff76288b84103);$vd83a5a8080de341e6551f42e0feece88 = curl_error($vd88fc6edf21ea464d35ff76288b84103);if ($vd83a5a8080de341e6551f42e0feece88) {throw new umiRemoteFileGetterException('Curl error - ' . $vd83a5a8080de341e6551f42e0feece88);}curl_close($vd88fc6edf21ea464d35ff76288b84103);if ($ve62b9ecbd883c26642197a7dc8246d3c === false) {return $result;}fclose($v0666f0acdeed38d4cd9084ade1739498);return new umiFile($ve62b9ecbd883c26642197a7dc8246d3c);}private static function buildHeaderString($vbc7d420606e2e2ab63b4a2528a7bbadf) {$va8631f5df1a55262ef1365a0ed379990 = [];if (!empty($vbc7d420606e2e2ab63b4a2528a7bbadf)) {foreach ($vbc7d420606e2e2ab63b4a2528a7bbadf as $vb068931cc450442b63f5b3d276ea4297 => $v2063c1608d6e0baf80249c42e2be5804) {$va8631f5df1a55262ef1365a0ed379990[] = $vb068931cc450442b63f5b3d276ea4297 . ': ' . $v2063c1608d6e0baf80249c42e2be5804;}}return empty($va8631f5df1a55262ef1365a0ed379990) ? '' : (implode("\r\n", $va8631f5df1a55262ef1365a0ed379990) . "\r\n");}}